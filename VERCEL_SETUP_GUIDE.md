# دليل إعداد ونشر بوت PDF على Vercel

## المتغيرات البيئية المطلوبة

عند نشر البوت على منصة Vercel، ستحتاج إلى إعداد المتغيرات البيئية التالية:

### المتغيرات الأساسية:

1. **TELEGRAM_BOT_TOKEN**
   - الوصف: توكن البوت الخاص بك من BotFather
   - مثال: `5432112345:AAHxyz123abc456def789ghi`
   - كيفية الحصول عليه: تحدث مع [@BotFather](https://t.me/BotFather) على تيليجرام وأنشئ بوتاً جديداً أو استخدم بوتاً موجوداً

2. **ADMIN_USER_ID**
   - الوصف: معرف المستخدم الخاص بك على تيليجرام (المشرف)
   - مثال: `123456789`
   - كيفية الحصول عليه: تحدث مع [@userinfobot](https://t.me/userinfobot) على تيليجرام

3. **MONGODB_URI**
   - الوصف: رابط الاتصال بقاعدة بيانات MongoDB
   - مثال: `mongodb+srv://username:password@cluster0.mongodb.net/pdf_bot_db?retryWrites=true&w=majority`
   - كيفية الحصول عليه: أنشئ حساباً على [MongoDB Atlas](https://www.mongodb.com/cloud/atlas) وقم بإعداد قاعدة بيانات

## كيفية إعداد المتغيرات البيئية على Vercel

1. قم بتسجيل الدخول إلى حسابك على [Vercel](https://vercel.com/)
2. انتقل إلى مشروعك بعد نشره
3. انقر على تبويب "Settings" (الإعدادات)
4. اختر "Environment Variables" (المتغيرات البيئية) من القائمة الجانبية
5. أضف كل متغير من المتغيرات المذكورة أعلاه:
   - في حقل "Name" أدخل اسم المتغير (مثل `TELEGRAM_BOT_TOKEN`)
   - في حقل "Value" أدخل قيمة المتغير
   - اختر "Production" كبيئة (أو اختر البيئات المناسبة)
   - انقر على "Add" (إضافة)
6. بعد إضافة جميع المتغيرات، قم بإعادة نشر المشروع لتطبيق التغييرات

## إعداد Webhook لبوت تيليجرام

بعد نشر المشروع على Vercel، ستحتاج إلى إعداد Webhook لبوتك على تيليجرام:

1. احصل على رابط النشر الخاص بمشروعك على Vercel (مثال: `https://your-project.vercel.app`)
2. قم بزيارة الرابط التالي في متصفحك (استبدل القيم بين القوسين):
   ```
   https://api.telegram.org/bot<TELEGRAM_BOT_TOKEN>/setWebhook?url=https://<YOUR_VERCEL_URL>/webhook/<TELEGRAM_BOT_TOKEN>
   ```
3. يجب أن تتلقى رداً يشير إلى نجاح العملية:
   ```json
   {"ok":true,"result":true,"description":"Webhook was set"}
   ```

## اختبار البوت

بعد إكمال الخطوات السابقة، يمكنك اختبار البوت:

1. افتح تطبيق تيليجرام
2. ابحث عن بوتك باستخدام اسم المستخدم الخاص به
3. أرسل أمر `/start` للبدء
4. جرب الوظائف المختلفة مثل دمج PDF، تقسيم PDF، تشفير/فك تشفير PDF، وتحويل الصور إلى PDF

## استكشاف الأخطاء وإصلاحها

إذا واجهت أي مشاكل:

1. تحقق من سجلات Vercel للمشروع (Logs) للاطلاع على أي أخطاء
2. تأكد من صحة جميع المتغيرات البيئية
3. تحقق من حالة Webhook باستخدام:
   ```
   https://api.telegram.org/bot<TELEGRAM_BOT_TOKEN>/getWebhookInfo
   ```
4. تأكد من أن قاعدة بيانات MongoDB متاحة ويمكن الوصول إليها من Vercel
